package com.tiltdigital.swiz.beans.loader.model.loaders 
{
	import com.tiltdigital.swiz.beans.loader.vo.LoaderVO;
	
	import flash.utils.ByteArray;
	/**	 * @author Jamie.Hill	 */	public class FontLoaderBase extends LoaderBase
	{
        protected const swfHeader					: ByteArray 	= new ByteArray();
        protected const classCode					: ByteArray 	= new ByteArray();
        protected const classNamePrefix				: String 		= "Font$";
        protected const tagDoABC					: uint 			= (( 72 << 6 ) | 0x3F );
        protected const tagSymbolClass				: uint 			= (( 76 << 6 ) | 0x3f );
        
        
        private var _initialised				: Boolean 		= false;
		
		
		/**
		 * constructor
		 */
		public function FontLoaderBase ( vo:LoaderVO ) 
		{
			super( vo );
			
			initialise();
		}
		
		
		//___________________________________________________________________________________ PUBLIC METHODS

		
	
		
		//___________________________________________________________________________________ PRIVATE METHODS
		
		
		/**
		 * Initialise the Client -- Override with subclasses
		 */
		override protected function initialise() : void
		{
			if( _initialised ) return;
			
			var _byteArray:SwfByteArray = new SwfByteArray();
            _byteArray.writeBytesFromString
            (
                '7800055F00000FA000000C01004411080000004302FFFFFFBF150B0000000100466F6E744C69620000' +
                'BF1461020000010000000010002E00000000191272752E657463732E7574696C733A466F6E7400432F' + 
                '55736572732F6574632F4465736B746F702F50726F6A656374732F466F6E744C6F616465724C69622F' + 
                '7372633B72752F657463732F7574696C733B466F6E742E61731772752E657463732E7574696C733A46' + 
                '6F6E742F466F6E74175B4F626A65637420466F6E7420666F6E744E616D653D2208666F6E744E616D65' + 
                '0D2220666F6E745374796C653D2209666F6E745374796C650C2220666F6E74547970653D2208666F6E' + 
                '745479706502225D1B72752E657463732E7574696C733A466F6E742F746F537472696E670653747269' + 
                '6E6708746F537472696E67175F5F676F5F746F5F646566696E6974696F6E5F68656C700466696C6543' + 
                '2F55736572732F6574632F4465736B746F702F50726F6A656374732F466F6E744C6F616465724C6962' + 
                '2F7372632F72752F657463732F7574696C732F466F6E742E617303706F73033636380D72752E657463' + 
                '732E7574696C7304466F6E740A666C6173682E74657874064F626A6563740335373006050116021614' + 
                '161618010201030A07020607020807020A07020D07020E070315070415091501070217040000020000' + 
                '00040000040C0000000200020F02101211130F02101211180106070905000101054100020100000001' + 
                '030106440000010104000101040503D03047000001010105060EF103F018D030F019D04900F01A4700' + 
                '00020201050620F103F01CD0302C05F01DD00401A02C07A0D00402A02C09A0D00403A02C0BA0480000' + 
                '030201010421D030F103F0165D085D096609305D076607305D07660758001D1D6806F103F00B470000'
            );
            
            _byteArray.position 	= 0;
            _byteArray.readBytes( swfHeader );
            _byteArray.length 		= 0;
            _byteArray.writeBytesFromString
            (
                '392F55736572732F6574632F4465736B746F702F50726F6A656374732F466F6E744C6F616465724C69' + 
                '622F7372633B3B466F6E743030302E61730568656C6C6F2B48656C6C6F2C20776F726C642120497320' + 
                '616E79626F647920686572653F2057686F27732074686572653F0F466F6E743030302F466F6E743030' + 
                '300D72752E657463732E7574696C7304466F6E74064F626A6563740A666C6173682E74657874175F5F' + 
                '676F5F746F5F646566696E6974696F6E5F68656C700466696C65382F55736572732F6574632F446573' + 
                '6B746F702F50726F6A656374732F466F6E744C6F616465724C69622F7372632F466F6E743030302E61' + 
                '7303706F73023534060501160216071801160A00050702010703080702090705080300000200000006' + 
                '0000000200010B020C0E0D0F0101020904000100000001020101440100010003000101050603D03047' + 
                '0000010102060719F103F006D030EF01040008F007D049002C05F00885D5F009470000020201010527' + 
                'D030F103F00465005D036603305D046604305D026602305D02660258001D1D1D6801F103F002470000'
            );
            
            _byteArray.position = 0;
            _byteArray.readBytes( classCode );
            _byteArray.length = 0;
            
			_initialised = true;
		}
	}}